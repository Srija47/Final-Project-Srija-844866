<div id="wrapper" class="animate">
  <div class="container-fluid">
      <div class="col p-4">
        <div class="register" align="center" style="width:50%;margin-left: 25%;height:370px;">
          <div class="jumborton jumborton-fluid" style="background-color:white;">
            <h3 class="card-header font-weight-thick">Add / Delete SubCategory Form</h3>
              <div class="container">
                <form [formGroup]="SubCategoryForm" (ngSubmit)="onSubmitAddSubCategory()"><br><br>
                    <table>
                        <tr>
                          <td><label>Category Name</label></td>
                          <td>
                            <select formControlName="categoryid" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.categoryid.errors }">
                              <option *ngFor="let item of list" value="{{item.categoryid}}">{{item.categoryname}}</option>   
                         </select>
                          </td>
                        </tr>
                        <tr>
                            <td><label>Sub Category Name</label></td>
                            <td><input type="text" formControlName="subcategoryname" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.subcategoryname.errors }" />
                            <div *ngIf="submitted && f.subcategoryname.errors" class="invalid-feedback">
                                <div *ngIf="f.subcategoryname.errors.required">Name is required</div>
                                <div *ngIf="f.subcategoryname.errors.pattern">Enter only Alphabets</div>
                            </div></td>
                            <!-- <td>
                              <input type="text" formControlName="subcategoryname" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.subcategoryname.errors }" />
                              <div *ngIf="submitted && f.subcategoryname.errors" class="invalid-feedback">
                                  <div *ngIf="f.subcategoryname.errors.required">name is required</div>
                               
                              </div>
                          </td> -->
                        </tr>
                        <tr>
                            <td><label>Brief About Sub Category</label></td>
                            <td><input type="text" formControlName="subcategorybrief" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.subcategorybrief.errors }" />
                            <div *ngIf="submitted && f.subcategorybrief.errors" class="invalid-feedback">
                                <div *ngIf="f.subcategorybrief.errors.required">Give Some Brief</div>
                            </div></td>
                        </tr>
                        <!-- <tr>
                          <td><label>Category ID </label></td>
                          <td><input type="number" formControlName="categoryid" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.categoryid.errors }" />
                          <div *ngIf="submitted && f.categoryid.errors" class="invalid-feedback">
                              <div *ngIf="f.categoryid.errors.required">Sub Category Id is required</div>
                          </div></td>
                      </tr> -->
                      <tr>
                          <td><label>GST </label></td>
                          <td><input type="number" formControlName="gst" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.gst.errors }" />
                          <div *ngIf="submitted && f.gst.errors" class="invalid-feedback">
                              <div *ngIf="f.gst.errors.required">GST number is required</div>
                          </div></td>
                      </tr>
                        <br>
                        <tr>
                          <td></td>
                        <td><button class="btn btn-primary mr-1" type="submit">Add</button>
                          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" (click)='GetSubCategories()'>
                            Delete
                           </button>  
                        <button class="btn btn-primary mr-1" type="reset" (click)='onReset()'>Reset</button></td>
                    </tr>
                </table>
                </form>
              </div>
          </div>
          </div>
      </div>
      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content" style="width: 150%;">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">All Sub Categories</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
             <table class="table table-striped">
               <thead>
               <tr>
                 <th>SubCategory ID</th>
                 <th>SubCategory Name</th>
                 <th>Subcategory Brief</th>
                 <th>GST</th>
                 <th>Action</th>
               </tr>
             </thead>
             <tbody>
               <tr *ngFor="let subcategory of list1">
                 <td>{{subcategory.subcategoryid}}</td>
                 <td>{{subcategory.subcategoryname}}</td>
                 <td>{{subcategory.subcategorybrief}}</td>
                 <td>{{subcategory.gst}}</td>
                 <td><button type="button" class="btn btn-danger" (click)="Delete(subcategory.subcategoryid)">Delete</button></td>
               </tr>
             </tbody>
             </table>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
 
 <router-outlet></router-outlet>